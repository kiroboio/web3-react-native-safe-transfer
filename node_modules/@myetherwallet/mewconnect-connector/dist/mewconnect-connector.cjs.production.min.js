"use strict";function r(r){if(r&&r.__esModule)return r;var t={};return r&&Object.keys(r).forEach((function(e){var n=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,n.get?n:{enumerable:!0,get:function(){return r[e]}})})),t.default=r,t}Object.defineProperty(exports,"__esModule",{value:!0});var t,e=(t=require("regenerator-runtime"))&&"object"==typeof t&&"default"in t?t.default:t,n=require("@web3-react/abstract-connector");function o(r,t,e,n,o,i,c){try{var u=r[i](c),a=u.value}catch(r){return void e(r)}u.done?t(a):Promise.resolve(a).then(n,o)}function i(r){return function(){var t=this,e=arguments;return new Promise((function(n,i){var c=r.apply(t,e);function u(r){o(c,n,i,u,a,"next",r)}function a(r){o(c,n,i,u,a,"throw",r)}u(void 0)}))}}exports.MewConnectConnector=function(t){var n,o;function c(r){var e;e=t.call(this,{supportedChainIds:[1]})||this;var n=r.windowClosedError,o=r.subscriptionNotFoundNoThrow,i=r.infuraId;return e.url=r.url,e.windowClosedError=n||!0,e.subscriptionNotFoundNoThrow=o||!0,e.infuraId=i,e}o=t,(n=c).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o;var u=c.prototype;return u.activate=function(){var t=i(e.mark((function t(){var n,o,i,c=this;return e.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){t(r(require("@myetherwallet/mewconnect-web-client")))}));case 2:if((n=t.sent.default).Provider.isConnected){t.next=16;break}return i={chainId:1,noUrlCheck:!0,rpcUrl:void 0,infuraId:this.infuraId,windowClosedError:this.windowClosedError,subscriptionNotFoundNoThrow:this.subscriptionNotFoundNoThrow},this.url.includes("https://mainnet.infura.io/v3/")&&!i.infuraId?i.infuraId=this.url.replace("https://mainnet.infura.io/v3/",""):i.rpcUrl=this.url,this.mewConnect=new n.Provider(i),this.provider=this.mewConnect.makeWeb3Provider(),this.mewConnect.on("disconnected",(function(){c.emitDeactivate()})),t.next=12,this.mewConnect.enable().catch((function(){throw new Error("The user rejected the request.")})).then((function(r){return r[0]}));case 12:return t.abrupt("return",{provider:this.provider,chainId:1,account:o=t.sent});case 16:if(!this.mewConnect){t.next=21;break}return t.next=19,this.mewConnect.enable().catch((function(){throw new Error("The user rejected the request.")})).then((function(r){return r[0]}));case 19:return t.abrupt("return",{provider:this.provider,chainId:1,account:o=t.sent});case 21:return t.abrupt("return",{provider:this.provider,chainId:1,account:o});case 22:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.getProvider=function(){var r=i(e.mark((function r(){return e.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.provider);case 1:case"end":return r.stop()}}),r,this)})));return function(){return r.apply(this,arguments)}}(),u.getChainId=function(){var r=i(e.mark((function r(){return e.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",1);case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),u.getAccount=function(){var r=i(e.mark((function r(){return e.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.provider.send("eth_accounts").then((function(r){return r[0]})).catch((function(){throw new Error("No account present to get.")})));case 1:case"end":return r.stop()}}),r,this)})));return function(){return r.apply(this,arguments)}}(),u.deactivate=function(){this.provider&&this.provider.close(),this.emitDeactivate()},u.close=function(){var r=i(e.mark((function r(){return e.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:this.provider&&this.provider.close(),this.emitDeactivate();case 2:case"end":return r.stop()}}),r,this)})));return function(){return r.apply(this,arguments)}}(),c}(n.AbstractConnector);
//# sourceMappingURL=mewconnect-connector.cjs.production.min.js.map

"use strict";var e,n=(e=require("react"))&&"object"==typeof e&&"default"in e?e.default:e,r=0,t=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function u(e){if(t(e)||Array.isArray(e)){var n;try{n=JSON.stringify(e,null,2)}catch(e){n="CIRCULAR JSON"}return n}return e}exports.useWhatChanged=function(e,t,o,c){var l=n.useMemo((function(){return"useLayoutEffect"===c?"useLayoutEffect":"useEffect"}),[]),a=n.useRef(e),s=n.useRef(1),f=n.useRef(""),i=Array.isArray(a.current);function y(){console.log("\n"),console.log("%c///// END SECTION/////","background: "+f.current+"; color: white; font-size: 10px","\n"),console.log("\n"),console.log("\n")}n[l]((function(){a.current&&i&&(r++,s.current=r,f.current=function(){for(var e="#",n=0;n<6;n++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}())}),[a,i]);var d,g,A=(g=n.useRef(d=function(e){var n=e.isFirstMount,r=e.suffixText,t=e.isBlankArrayAsDependency;console.log("%c///// START SECTION /////","background: "+f.current+"; color: white; font-size: 10px","\n"),console.log("\n"),console.log("%c "+s.current+" "+(o||""),"background: "+f.current+"; color: white; font-size: 10px","👇🏾",n?"FIRST RUN":"UPDATES",""+r),t&&y()}),n.useEffect((function(){g.current=d})),g);n[l]((function(){if(a.current&&i){var n=t?t.split(","):null,r=!1,o=e?e.reduce((function(e,o,c){if(a.current&&o!==a.current[c]){var l=a.current[c];return a.current[c]=o,t&&n?(r=!0,e['"✅" '+n[c]]={"Old Value":u(l),"New Value":u(o)}):e['"✅" '+c]={"Old Value":u(l),"New Value":u(o)},e}return t&&n?e['"⏺" '+n[c]]={"Old Value":u(o),"New Value":u(o)}:e['"⏺" '+c]={"Old Value":u(o),"New Value":u(o)},e}),{}):{},c=o&&0===Object.keys(o).length&&i;A.current({isFirstMount:!r,suffixText:c?" 👉🏽 This will run only once on mount.":"",isBlankArrayAsDependency:c}),c||(console.table(o),y())}}),[].concat(e&&i?e:[],[a,A,c]))};
//# sourceMappingURL=use-what-changed.cjs.production.min.js.map

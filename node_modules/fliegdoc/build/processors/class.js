"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.processClassDeclaration = void 0;
const extractPropertiesAndMethods_1 = require("./helpers/extractPropertiesAndMethods");
const config_1 = require("../model/config");
const updateJSDocsForStructure_1 = require("./helpers/updateJSDocsForStructure");
/**
 * Converts a `ClassDeclaration` or `InterfaceDeclaration` to a documentation-ready representation.
 *
 * @param node - the class or interface declaration
 * @returns documentation-ready representation of the class/interface
 * @example
 * ```ts
 * processClassDeclaration(node);
 * ```
 */
function processClassDeclaration(node) {
    var _a;
    const structure = node.getStructure();
    extractPropertiesAndMethods_1.extractPropertiesAndMethods(structure, node);
    if (config_1.getConfig().hidePrivateMembers) {
        if (structure.properties)
            structure.properties = structure.properties.filter(property => property.scope !== 'private');
        if (structure.methods)
            structure.methods = structure.methods.filter(method => method.scope !== 'private');
    }
    updateJSDocsForStructure_1.updateJSDocsForStructure(structure, node, 'ctors', 'getConstructors');
    return {
        type: 'class',
        name: (_a = node.getName()) !== null && _a !== void 0 ? _a : '[[UnnamedClass]]',
        declarations: [structure]
    };
}
exports.processClassDeclaration = processClassDeclaration;
//# sourceMappingURL=class.js.map